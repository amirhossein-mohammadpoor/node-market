{"version":3,"sources":["components/input/Input.js","redux/actions/cartActions.js","components/formAlert/FormAlert.js","views/accountPage/signupPage/SignUpPage.js"],"names":["Input","onChange","value","placeholder","textLeft","className","style","direction","createCart","cart","type","types","CREATE_CART","addItem","ADD_ITEM","incrementItem","email","id","INCREMENT_ITEM","decrementItem","DECREMENT_ITEM","removeItem","REMOVE_ITEM","emptyCart","EMPTY_CART","FormAlert","alerts","map","alert","key","connect","signUpUser","history","useHistory","useState","name","lastName","number","password","repeatPassword","form","setForm","formAlert","setFormAlert","onSubmit","event","preventDefault","errors","validator","isEmail","push","isNumeric","isLength","min","length","user","trim","normalizeEmail","credit","position","favorites","orders","products","target"],"mappings":"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","file":"static/js/6.0f840840.chunk.js","sourcesContent":["import React from \"react\"\r\nimport \"./Input.scss\"\r\n\r\nconst Input = ({ onChange, value, placeholder, textLeft}) => (\r\n    <div className=\"input\">\r\n      <span>{placeholder}</span>      \r\n      <input\r\n        onChange={onChange}\r\n        value={value}\r\n        className=\"input\"\r\n        style={{ direction: textLeft ? \"ltr\" : \"rtl\" }}\r\n      />\r\n    </div>\r\n  )\r\n\r\nexport default Input","import types from '../types/cartTypes'\r\n\r\nexport const createCart = cart => {  \r\n  return {\r\n    type: types.CREATE_CART,\r\n    cart\r\n  }\r\n}\r\n\r\nexport const addItem = cart => {  \r\n  return {\r\n    type: types.ADD_ITEM,\r\n    cart\r\n  }\r\n}\r\n\r\nexport const incrementItem = (email, id) => {  \r\n  return {\r\n    type: types.INCREMENT_ITEM,\r\n    email,\r\n    id\r\n  }\r\n}\r\n\r\nexport const decrementItem = (email, id) => {  \r\n  return {\r\n    type: types.DECREMENT_ITEM,\r\n    email,\r\n    id\r\n  }\r\n}\r\n\r\nexport const removeItem = (email, id) => {  \r\n  return {\r\n    type: types.REMOVE_ITEM,\r\n    email,\r\n    id\r\n  }\r\n}\r\n\r\nexport const emptyCart = email => {  \r\n  return {\r\n    type: types.EMPTY_CART,\r\n    email\r\n  }\r\n}","import React from \"react\"\r\nimport \"./FormAlert.scss\"\r\n\r\nconst FormAlert = ({ alerts }) => {\r\n  return (\r\n    <ul className=\"form-alert\">\r\n      {\r\n        alerts.map(alert => (\r\n          <li key={alert}>{alert}</li>\r\n        ))\r\n      }\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default FormAlert","import React, { useState } from \"react\"\r\nimport Input from \"../../../components/input/Input\"\r\nimport SubmitButton from \"../../../components/buttons/submitButton/SubmitButton\"\r\nimport \"./SignUpPage.scss\"\r\nimport FormAlert from \"../../../components/formAlert/FormAlert\"\r\nimport { Container } from \"reactstrap\"\r\nimport validator from \"validator\"\r\nimport { connect } from \"react-redux\"\r\nimport { signUpUser } from \"../../../redux/actions/userActions\"\r\nimport { createCart } from \"../../../redux/actions/cartActions\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst SignUpPage = ({ signUpUser, createCart }) => {\r\n  const history = useHistory()\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    lastName: \"\",\r\n    number: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    repeatPassword: \"\"\r\n  })\r\n  const [formAlert, setFormAlert] = useState(null)\r\n\r\n  const handleName = event => {\r\n    setForm({\r\n      ...form,\r\n      name: event.target.value\r\n    })\r\n  }\r\n  const handleLastName = event => {\r\n    setForm({\r\n      ...form,\r\n      lastName: event.target.value\r\n    })\r\n  }\r\n  const handleNumber = event => {\r\n    setForm({\r\n      ...form,\r\n      number: event.target.value\r\n    })\r\n  }\r\n  const handleEmail = event => {\r\n    setForm({\r\n      ...form,\r\n      email: event.target.value\r\n    })\r\n  }\r\n  const handlePassword = event => {\r\n    setForm({\r\n      ...form,\r\n      password: event.target.value\r\n    })\r\n  }\r\n  const handleRepeatPassword = event => {\r\n    setForm({\r\n      ...form,\r\n      repeatPassword: event.target.value\r\n    })\r\n  }\r\n  const handleSubmit = event => {\r\n    event.preventDefault()\r\n\r\n    const errors = []\r\n\r\n    if (!validator.isEmail(form.email)) {\r\n      errors.push(\"ایمیل معتبر نیست\")\r\n    }\r\n\r\n    if (!validator.isNumeric(form.number)) {\r\n      errors.push(\"شماره همراه معتبر نیست\")\r\n    }\r\n\r\n    if (!validator.isLength(form.password, { min: 4 })) {\r\n      errors.push(\"طول گذر واژه باید حداقل 4 کاراکتر باشد\")\r\n    }\r\n\r\n    if (form.password !== form.repeatPassword) {\r\n      errors.push(\"گذر واژه ها همخوانی ندارد\")\r\n    }\r\n\r\n    if (errors.length !== 0) {\r\n      setFormAlert(<FormAlert alerts={errors} />)\r\n    } else {\r\n      setFormAlert(null)\r\n\r\n      const user = {\r\n        name: form.name.trim(),\r\n        lastName: form.lastName.trim(),\r\n        number: form.number.trim(),\r\n        email: validator.normalizeEmail(form.email),\r\n        password: form.password.trim(),\r\n        credit: 0,\r\n        position: [],\r\n        favorites: [],\r\n        orders: []\r\n      }\r\n\r\n      const cart = {\r\n        email: validator.normalizeEmail(form.email),\r\n        products: []\r\n      }\r\n\r\n      createCart(cart)\r\n      signUpUser(user)\r\n\r\n      history.push(\"/user/profile\")\r\n\r\n      setForm({\r\n        name: \"\",\r\n        lastName: \"\",\r\n        number: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        repeatPassword: \"\"\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container className=\"signup-form\">\r\n      <form onSubmit={handleSubmit}>\r\n        <h4>ثبت نام</h4>\r\n        <Input\r\n          placeholder=\"نام\"\r\n          onChange={handleName}\r\n          value={form.name}\r\n          textLeft={false}\r\n        />\r\n        <Input\r\n          placeholder=\"نام خانوادگی\"\r\n          onChange={handleLastName}\r\n          value={form.lastName}\r\n          textLeft={false}\r\n        />\r\n        <Input\r\n          placeholder=\"شماره همراه\"\r\n          onChange={handleNumber}\r\n          value={form.number}\r\n          textLeft={true}\r\n        />\r\n        <Input\r\n          placeholder=\"ایمیل\"\r\n          onChange={handleEmail}\r\n          value={form.email}\r\n          textLeft={true}\r\n        />\r\n        <Input\r\n          placeholder=\"گذر واژه\"\r\n          onChange={handlePassword}\r\n          value={form.password}\r\n          textLeft={true}\r\n        />\r\n        <Input\r\n          placeholder=\"تکرار گذر واژه\"\r\n          onChange={handleRepeatPassword}\r\n          value={form.repeatPassword}\r\n          textLeft={true}\r\n        />\r\n        {\r\n          formAlert\r\n        }\r\n        <SubmitButton>ثبت نام</SubmitButton>\r\n      </form>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default connect(null, { signUpUser, createCart })(SignUpPage)"],"sourceRoot":""}